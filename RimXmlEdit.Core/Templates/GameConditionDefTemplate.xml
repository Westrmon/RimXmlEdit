<?xml version="1.0" encoding="utf-8"?>
<Defs xmlns:meta="RimXmlEdit.Template"
    meta:defType="GameConditionDef">

    <!-- =============================== -->
    <!--        可用过滤器定义区         -->
    <!-- =============================== -->
    <meta:FilterDefs>
        <meta:Filter Name="IsGlobalCondition" Desc="该游戏条件是否影响整个地图或世界。" />
        <meta:Filter Name="IsLocalCondition" Desc="该游戏条件是否只影响特定区域或单个地图。" />
        <meta:Filter Name="AffectsWeather" Desc="该条件是否修改天气或阻止降雨、覆盖天气等。" />
        <meta:Filter Name="AffectsTemperature" Desc="该条件是否改变温度，如火山冬季、热浪。" />
        <meta:Filter Name="IsTemporary" Desc="该条件是否具有持续时间限制。" />
        <meta:Filter Name="IsPermanent" Desc="该条件是否为永久性存在（无结束时间）。" />
    </meta:FilterDefs>

    <!-- ====================================================== -->
    <!--      游戏条件模板：可切换是否影响天气/温度/持续性        -->
    <!-- ====================================================== -->
    <GameConditionDef meta:Name="CustomGameCondition"
        meta:Desc="通用游戏条件模板，可自由选择是否为全局/局部、是否影响天气/温度、是否为临时或永久。">

        <!-- 基础信息 -->
        <defName>MyCustomCondition</defName>
        <label>Custom Condition</label>
        <description>这是一个可通过模板系统生成的自定义游戏条件。</description>
        <conditionClass>GameCondition</conditionClass>

        <!-- 可否为永久 -->
        <canBePermanent meta:If="IsPermanent">true</canBePermanent>
        <canBePermanent meta:Unless="IsPermanent">false</canBePermanent>

        <!-- 是否阻止降雨 -->
        <preventRain meta:If="AffectsWeather">true</preventRain>

        <!-- ===================== -->
        <!--    效果类设置区域     -->
        <!-- ===================== -->

        <!-- 属性偏移（例如温度、速度等） -->
        <statOffsets meta:If="AffectsTemperature">
            <TemperatureOffset>
                <offset>15</offset>
            </TemperatureOffset>
        </statOffsets>

        <!-- 覆盖天气（如强制晴天/强制寒冷） -->
        <weatherOverrides meta:If="AffectsWeather">
            <li>Clear</li>
        </weatherOverrides>

        <!-- 天空颜色（如日蚀、极光等效果） -->
        <skyColors>
            <skyColorDay meta:If="IsGlobalCondition">
                <r>0.3</r>
                <g>0.3</g>
                <b>0.6</b>
            </skyColorDay>
            <skyColorNight meta:If="IsGlobalCondition">
                <r>0.1</r>
                <g>0.1</g>
                <b>0.3</b>
            </skyColorNight>
        </skyColors>

        <!-- 温度偏移（常用于热浪、寒潮、火山冬季） -->
        <temperatureOffset meta:If="AffectsTemperature">-10</temperatureOffset>

        <!-- ===================== -->
        <!--      持续时间相关     -->
        <!-- ===================== -->
        <defaultDuration meta:If="IsTemporary">60000</defaultDuration>
        <minDuration meta:If="IsTemporary">30000</minDuration>
        <maxDuration meta:If="IsTemporary">120000</maxDuration>

        <!-- 如果为永久条件，自动忽略持续性 -->
        <permanent meta:If="IsPermanent">true</permanent>
        <permanent meta:Unless="IsPermanent">false</permanent>

        <!-- ===================== -->
        <!--      触发与结束       -->
        <!-- ===================== -->

        <letterText>一项特殊的环境变化开始影响此区域。</letterText>
        <endMessage meta:If="IsTemporary">环境变化已结束。</endMessage>

        <!-- 皇族相关（仅在有RoyaltyDLC时有效） -->
        <stopIfRoyaltyApparelLost meta:If="IsLocalCondition">false</stopIfRoyaltyApparelLost>

        <!-- 是否可随机开始（如天气事件） -->
        <canRandomlyStart>true</canRandomlyStart>

        <!-- ===================== -->
        <!--   特定事件条件示例    -->
        <!-- ===================== -->
        <!-- 注意：下列标签为示例，实际效果需依游戏机制决定 -->

        <!-- 日蚀：减少太阳能发电（需要游戏支持的 comps 或 statOffsets） -->
        <statOffsets meta:If="IsGlobalCondition">
            <SolarPowerOffset>-0.5</SolarPowerOffset>
        </statOffsets>

        <!-- 火山冬季：全球降温 -->
        <temperatureOffset meta:If="AffectsTemperature">-30</temperatureOffset>

        <!-- 心灵波动：心理影响（需配合 CompProperties 或特定 GameCondition 类） -->
        <psycastAffected meta:If="IsLocalCondition">true</psycastAffected>

        <!-- 有毒尘埃：户外伤害，可在 GameCondition 派生类中处理 -->
        <outdoorHarm meta:If="IsGlobalCondition">true</outdoorHarm>

    </GameConditionDef>
</Defs>