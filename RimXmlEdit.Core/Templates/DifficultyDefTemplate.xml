<?xml version="1.0" encoding="utf-8"?>
<Defs xmlns:meta="RimXmlEdit.Template"
    meta:defType="DifficultyDef">

    <!-- ========================= -->
    <!--        过滤器定义         -->
    <!-- ========================= -->
    <meta:FilterDefs>
        <meta:Filter Name="IsStorytellerDifficulty" Desc="此难度是否为叙事者提供的预设难度" />
        <meta:Filter Name="IsCustomDifficulty" Desc="此难度是否为玩家自定义难度" />
        <meta:Filter Name="IsPeaceful" Desc="是否为和平难度（低威胁）" />
        <meta:Filter Name="IsChallenge" Desc="是否为挑战难度（高威胁）" />
        <meta:Filter Name="AffectsThreatScale" Desc="此难度是否修改威胁强度系数" />
        <meta:Filter Name="AffectsEconomy" Desc="此难度是否影响经济与资源产出" />
    </meta:FilterDefs>


    <!-- ================================================ -->
    <!--                 DifficultyDef 模板               -->
    <!-- ================================================ -->
    <DifficultyDef meta:Name="CustomDifficultyTemplate"
        meta:Desc="自定义游戏难度模板，可按过滤器切换威胁、经济、机制等内容。">

        <!-- 基础信息 -->
        <defName>Custom_Difficulty</defName>
        <label>Custom Difficulty</label>
        <description>这是一个可根据过滤器动态生成的难度模板。</description>

        <drawList meta:If="IsStorytellerDifficulty">true</drawList>
        <drawList meta:If="IsCustomDifficulty">false</drawList>

        <!-- 基础策略 -->
        <allowBigThreats meta:If="IsPeaceful">false</allowBigThreats>
        <allowBigThreats meta:Unless="IsPeaceful">true</allowBigThreats>

        <allowExtremeWeatherIncidents>true</allowExtremeWeatherIncidents>

        <predatorsHuntHumanlikes meta:If="IsPeaceful">false</predatorsHuntHumanlikes>
        <predatorsHuntHumanlikes meta:If="IsChallenge">true</predatorsHuntHumanlikes>

        <allowIntroTutorial>true</allowIntroTutorial>
        <allowCrashedShipParts>true</allowCrashedShipParts>

        <!-- ============= -->
        <!--   威胁设置    -->
        <!-- ============= -->
        <threatScale meta:If="AffectsThreatScale">0.7</threatScale>
        <threatScale meta:Unless="AffectsThreatScale">1.0</threatScale>

        <!-- ============= -->
        <!-- 经济与资源设置 -->
        <!-- ============= -->
        <cropYieldFactor meta:If="AffectsEconomy">1.2</cropYieldFactor>
        <mineYieldFactor meta:If="AffectsEconomy">1.0</mineYieldFactor>
        <researchSpeedFactor meta:If="AffectsEconomy">1.1</researchSpeedFactor>
        <tradePriceFactorLoss meta:If="AffectsEconomy">1.0</tradePriceFactorLoss>
        <scariaRotChance meta:If="AffectsEconomy">1.0</scariaRotChance>

        <!-- ============= -->
        <!-- 殖民者影响设置 -->
        <!-- ============= -->
        <foodPoisonChanceFactor>1.0</foodPoisonChanceFactor>
        <playerPawnInfectionChanceFactor>1.0</playerPawnInfectionChanceFactor>
        <diseaseIntervalFactor>1.0</diseaseIntervalFactor>
        <enemyDeathOnDownedChanceFactor>0.5</enemyDeathOnDownedChanceFactor>

        <!-- ============= -->
        <!-- 游戏机制调整 -->
        <!-- ============= -->
        <allowTraps>true</allowTraps>
        <allowTurrets>true</allowTurrets>
        <allowMortars>true</allowMortars>

        <classicMortars meta:If="IsPeaceful">false</classicMortars>
        <classicMortars meta:If="IsChallenge">true</classicMortars>

    </DifficultyDef>

</Defs>