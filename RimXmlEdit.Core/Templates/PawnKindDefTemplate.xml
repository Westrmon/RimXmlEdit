<?xml version="1.0" encoding="utf-8"?>
<Defs xmlns:meta="RimXmlEdit.Template"
    meta:defType="PawnKindDef">

    <!-- ======================== -->
    <!--       条件过滤器定义       -->
    <!-- ======================== -->
    <meta:FilterDefs>
        <meta:Filter Name="IsAnimal" Desc="是否为动物" />
        <meta:Filter Name="IsHumanlike" Desc="是否为人形生物（如殖民者、部落人）" />
        <meta:Filter Name="IsMechanoid" Desc="是否为机械体" />
        <meta:Filter Name="IsTameable" Desc="是否可驯服" />
        <meta:Filter Name="IsPredator" Desc="是否为捕食者动物" />
        <meta:Filter Name="IsPackAnimal" Desc="是否为可驮运动物" />
        <meta:Filter Name="CanManhunter" Desc="是否可狂暴/人身攻击" />
        <meta:Filter Name="HasLifeStages" Desc="是否定义生命阶段" />
        <meta:Filter Name="SpawnWild" Desc="是否在野外自然生成" />
    </meta:FilterDefs>


    <!-- ======================== -->
    <!--     PawnKindDef 主体      -->
    <!-- ======================== -->
    <PawnKindDef meta:Name="CustomPawnKind"
        meta:Desc="用于定义任意生物种类的完备模板"
        ParentName="BasePawn">

        <!-- 基本信息 -->
        <defName>MyPawnKind</defName>
        <label>custom pawn</label>

        <!-- 物种：决定此 Pawn 使用哪种 ThingDef 的 race 节点 -->
        <race>Human</race>

        <!-- 战斗强度 -->
        <combatPower>180</combatPower>

        <!-- 招募/驯服难度（仅动物 / 人形） -->
        <baseRecruitDifficulty meta:If="IsAnimal">0.5</baseRecruitDifficulty>
        <baseRecruitDifficulty meta:If="IsHumanlike">0.7</baseRecruitDifficulty>


        <!-- ======================== -->
        <!--        生物行为特性       -->
        <!-- ======================== -->

        <!-- 野生动物的野生度（0-1） -->
        <wildness meta:If="IsAnimal">0.7</wildness>

        <!-- 是否捕食者 -->
        <predator meta:If="IsPredator">true</predator>

        <!-- 是否为驮运动物 -->
        <packAnimal meta:If="IsPackAnimal">true</packAnimal>

        <!-- 是否可能成为“人身攻击狂暴” -->
        <canArriveManhunter meta:If="CanManhunter">true</canArriveManhunter>


        <!-- ======================== -->
        <!--      生命阶段定义区       -->
        <!-- ======================== -->
        <lifeStages meta:If="HasLifeStages">
            <li>
                <label>juvenile</label>
                <minAge>0</minAge>
            </li>
            <li>
                <label>adult</label>
                <minAge>1</minAge>
            </li>
            <li meta:If="IsAnimal">
                <label>elder</label>
                <minAge>6</minAge>
            </li>
        </lifeStages>


        <!-- ======================== -->
        <!--         生成设置          -->
        <!-- ======================== -->

        <!-- 野外是否自然生成 -->
        <wildGroupSizeRange meta:If="SpawnWild">
            <min>1</min>
            <max>3</max>
        </wildGroupSizeRange>

        <commonality meta:If="SpawnWild">0.8</commonality>

        <!-- 温度范围 -->
        <allowedArrivalTemperatureRange>
            <min>-20</min>
            <max>45</max>
        </allowedArrivalTemperatureRange>


        <!-- ======================== -->
        <!--         机械体独占         -->
        <!-- ======================== -->
        <deathActionWorkerClass meta:If="IsMechanoid">
            DeathActionWorker_SmallExplosion
        </deathActionWorkerClass>


        <!-- ======================== -->
        <!--        人形特性补充        -->
        <!-- ======================== -->
        <skills meta:If="IsHumanlike">
            <Shooting>4</Shooting>
            <Melee>3</Melee>
            <Medicine>2</Medicine>
        </skills>

        <apparelTags meta:If="IsHumanlike">
            <li>IndustrialBasic</li>
        </apparelTags>

        <weaponTags meta:If="IsHumanlike">
            <li>SimpleGun</li>
            <li>SimpleMelee</li>
        </weaponTags>


        <!-- ======================== -->
        <!--       动物特性补充         -->
        <!-- ======================== -->
        <animalType meta:If="IsAnimal">Quadruped</animalType>

        <!-- 是否可驯服 -->
        <trainability meta:If="IsTameable">Intermediate</trainability>

        <!-- 动物体型 -->
        <maxBodySize meta:If="IsAnimal">1.6</maxBodySize>


    </PawnKindDef>
</Defs>